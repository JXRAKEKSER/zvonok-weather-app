import{_ as v,F as W,a as C}from"./forecast.service-D9adIO76.js";import{u as m}from"./city.store-w-YemI-m.js";import{d as g,c as r,o as s,f as a,t as u,u as o,k as w,_ as d,g as l,q as h,F as y,l as f,a as L}from"./index-DPAigB_1.js";function S(t,e){return t.toLocaleDateString(e.locale,e.options)}const $={class:"week-day-card"},D={class:"week-day-card__day-label week-day-card__day-label_first-letter_capitalized"},E={class:"week-day-card__condition-icon"},x={class:"week-day-card__temperature"},B="ru-Ru",I=g({__name:"WeekDayCard",props:{date:{},temperature:{},condition:{}},setup(t){return(e,c)=>(s(),r("article",$,[a("span",D,u(o(S)(e.date,{locale:B,options:{weekday:"long"}})),1),a("div",E,[w(o(v),{class:"",condition:e.condition},null,8,["condition"])]),a("span",x,u(e.temperature)+"°",1)]))}}),b=d(I,[["__scopeId","data-v-806caf0d"]]),N={},P={class:"sceleton-card"};function R(t,e){return s(),r("article",P,e[0]||(e[0]=[a("span",{class:"sceleton-card__text"},null,-1),a("div",{class:"sceleton-card__image"},null,-1),a("span",{class:"sceleton-card__text"},null,-1)]))}const T=d(N,[["render",R],["__scopeId","data-v-c7ed85a5"]]),V=new W(new C),p=m();function q(){const t=l(null),e=l(!1),c=l(null);async function _(){if(p.currentCity){e.value=!0;try{t.value=await V.getWeeklyForecast(p.currentCity.coordinates)}catch(n){n instanceof Error&&(c.value=n),console.log(n)}finally{e.value=!1}}}return h(_),{forcasts:t,isWeeklyForcastLoading:e,weeklyForecastLoadingError:c}}const k=m();function z(){h(()=>{k.currentCity&&(document.title=`Погода в ${k.currentCity.name}`)})}const A={class:"page-weekly-forecast"},j={class:"page-weekly-forecast__list"},G=g({__name:"PageWeeklyWeather",setup(t){const{forcasts:e,isWeeklyForcastLoading:c}=q();return z(),(_,n)=>(s(),r("section",A,[a("ul",j,[o(c)?(s(),r(y,{key:0},f(6,i=>w(o(T),{class:"page-weekly-forecast__weekday-forecast"})),64)):(s(!0),r(y,{key:1},f(o(e),(i,F)=>(s(),L(o(b),{class:"page-weekly-forecast__weekday-forecast",key:F,condition:i.condition,date:i.dateTime,temperature:i.temperature},null,8,["condition","date","temperature"]))),128))])]))}}),M=d(G,[["__scopeId","data-v-f29a6e80"]]);export{M as default};
